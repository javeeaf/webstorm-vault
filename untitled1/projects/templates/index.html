<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Polygon Drawer</title>
</head>
<body>
<h1>Draw a Polygon</h1>
<form method="POST">
    <label for="sides">Number of Sides (3-12):</label>
    <input type="number" id="sides" name="sides" value="{{ sides }}" min="3" max="12" required><br><br>
    <label for="size">Size (50-200):</label>
    <input type="number" id="size" name="size" value="{{ size }}" min="50" max="200" required><br><br>
    <button type="submit" name="action" value="draw">Draw Polygon</button>
    {% if img_data %}
    <button type="submit" name="action" value="print">Print Polygon</button>
    {% endif %}
</form>

{% if error %}
<p style="color: red;">Error: {{ error }}</p>
{% endif %}

{% if print_message %}
<p style="color: {% if 'failed' in print_message.lower() %}red{% else %}green{% endif %};">{{ print_message }}</p>
{% endif %}

{% if img_data %}
<h2>Result</h2>
<img src="{{ img_data }}" alt="Polygon">
{% endif %}
</body>
</html>